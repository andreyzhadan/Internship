<!DOCTYPE html>
<html lang="">

<head>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta charset="utf-8">
    <title>skipy_ru: Повторная запись объектов в поток</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <link rel="home" title="Home" href="/">
    <link rel="contents" title="Site Map" href="http://www.livejournal.com/site/">
    <link rel="help" title="Technical Support" href="http://www.livejournal.com/support/">

    <link rel="apple-touch-icon" href="http://l-stat.livejournal.com/img/apple-touch-icon.png?v=6037">
    
        <!--[if IE]><link rel="shortcut icon" type="image/x-icon" href="http://l-stat.livejournal.com/img/userinfo.ico"><![endif]-->
        <link rel="icon" type="image/gif" href="http://l-stat.livejournal.com/img/userinfo.gif?v=17080">
    

    
    

    

    

    <link rel="stylesheet" type="text/css" href="http://l-stat.livejournal.com/??lj_base.css,contextualhover.css,esn.css,lj_base-journal.css,popup/popupus.css,popup/popupus-blue.css,updateform.css,commentmanage.css,userpicselector.css,spelling.css,pics/pics.css,share.css,journalpromo/journalpromo.css,lj_base-app.css,lanzelot/lanzelot-adaptive.css,ad_base.css,ljtimes/ctrl.css,ljtimes/reskining/ljmaps/ctrl.css?v=1373349570" />
<!--[if lte IE 9]><link rel="stylesheet" type="text/css" href="http://l-stat.livejournal.com/??lanzelot/ie8.css?v=1373349570" /><![endif]-->
<!--[if lte IE 8]><link rel="stylesheet" type="text/css" href="http://l-stat.livejournal.com/??ie.css,popup/popupus-ie.css,lanzelot/css/ie.css?v=1373349570" /><![endif]-->

                <script type="text/javascript">
                Site = window.Site || {};
                Site.ml_text = {"fotki.album.paste.from.album":"From Album","fotki.album.resize.to.post":"Resize","fotki.photo.upload.error.file_type_not_supported":"File type is not supported","fotki.album.browse.photo":"Browse","fotki.album.click.image":"Click on image to remove it.","fotki.album.remove.this.image":"Remove this image","fotki.album.link.click.to.upload":"Click to upload <br> new images","talk.spamcount":"[[count]] [[?count|suspicious comment|suspicious comments]]","talk.replycount":"[[count]] [[?count|comment|comments]]","fotki.album.save.images":"Save images","talk.link.button":"Insert","fotki.privacy":"Privacy","fotki.photo.upload.error.common_error":"Common error","fotki.album.upgrade":"Extra Storage Space","widget.form.skip_word":"Skip word","fotki.album.create.new":"(Create new)","fotki.album.select_album":"Select album:","fotki.album.description":"Add your description","fotki.album.uploading.image":"Uploading image...","fotki.album.upload.images":"Upload images","fotki.album.add.image.name":"Add image name","fotki.album.no.pics":"There are no photos in this album.","fotki.album.add.photos":"To add multiple files, hold down the CTRL or Shift button.","fotki.album.link.from.image":"Link from this image (optional)","fotki.photo.upload.error.forbidden":"You cannot access this page because this journal is not visible.","pics.ui.link_to_original_title":"Check to include a link to the full size image","fotki.album.stop.upload.confirm":"Do you really want to stop the upload and close without saving? ","fotki.photo.upload.error.cant_get_storage_space":"Can't get count of used storage space","fotki.photo.upload.error.file_not_selected":"File not selected","fotki.album.remove.image":"Remove this image","fotki.album.uploading.message":"Uploading...","confirm.bubble.no":"No","fotki.album.load.more":"Loading more..","fotki.album.upload.unknown.error":"Unknown error","fotki.photo.upload.error.not_enough_space":"Scrapbook: not enough space","fotki.album.add.images":"Add to post","fotki.album.change":"Your current selection will be lost. Do you really want to change albums? ","fotki.album.available.now":"Available now","fotki.branding_04_2012.html":"<a href=\"http://url\">link</a>","fotki.album.cancel.album":"Cancel","fotki.album.upload.io.error":"","fotki.album.album_cover":"Album cover","talk.postcomment":"Add a comment","fotki.album.resize.width":"Width","fotki.photo.upload.error.no_access_rpc":"Internal Error","fotki.album.close.without.saving.confirm":"Do you really want to close without saving?","talk.general.save":"Save","entry.reference.label.reposted":"Reposted","talk.replytothis":"Reply","fotki.album.paste.url":"Paste URL","fotki.photo.upload.error.auth_token_invalid":"Auth error","fotki.album.new.album.name":"New album name","fotki.album.custom.size":"Custom","fotki.album.post.images":"Add to post","pics.ui.link_to_original":"Add a link to the original image","fotki.photo.upload.error.no_access_to_storage_media":"No access to storage media","talk.link.button.delete":"Delete","talk.editcomment":"Save comment","fotki.album.default.sizes":"Default sizes","widget.form.no_suggestions":"No suggestions","fotki.album.stop.upload":"Stop uploading?","entry.reference.label.title":"Remove repost","fotki.album.comment.images":"Add to comment","confirm.bubble.yes":"Yes","sharing.popup.title":"Share","talk.answer":"Reply","fotki.album.resize.height":"Height","fotki.album.paste.url.here":"Paste image URL here"};
                Site.page = {"hasactiveuserpic":0,"ajaxPagination":1,"fotki":{"uploader":{"albumsData":[],"action":"add_new_post","privacyData":[{"groupname":"Everyone (Public)","security":"public"},{"groupname":"Friends","security":"allfriends"},{"groupname":"Just Me (Private)","security":"private"}],"tracking_opendialog":"tracking_photouploaded","sizesData":[{"is_default":0,"text":"100","size":"100"},{"is_default":0,"text":"300","size":"300"},{"is_default":0,"text":"600","size":"600"},{"is_default":1,"text":"900","size":"900"},{"is_default":0,"text":"1000","size":"1000"},{"is_default":0,"text":"Original","size":"original"}],"type":"upload","guid":""},"migration":0,"upload":0,"enabled":0},"hasdefaultuserpic":0,"hasuserpics":0,"spamcount":0,"replycount":0,"comments_page":1,"scheme":"lanzelot","D":{},"activeuserpic":""};
                Site.timer = +(new Date());
                (function(){
                    var p = {"remote_is_identity":null,"remote_is_maintainer":0,"auth_token":"sessionless:1373551200:/__api/::a3422718572428525d1d8a6ad0cccf4fbc00e207","locale":"en_US","remoteUser":null,"remote_is_sup":1,"remoteJournalBase":null,"statprefix":"http://l-stat.livejournal.com","ctx_popup":1,"jsonrpcprefix":"http://l-api.livejournal.com","siteroot":"http://www.livejournal.com","country":"RU","templates_update_time":900,"media_embed_enabled":1,"inbox_update_poll":0,"rpc":{"public":["homepage.get_rating","sitemessage.get_message","comment.get_thread"]},"v":1373349570,"has_remote":0,"currentEntryRecommendations":0,"remoteLocale":"en_US","server_time":1373551413,"picsUploadDomain":"up.pics.livejournal.com","remote_is_suspended":0,"logprefix":"","imgprefix":"http://l-stat.livejournal.com/img","esn_async":1,"remote_can_track_threads":null,"currentJournal":"skipy_ru","pics_production":"","currentEntry":"http://skipy-ru.livejournal.com/5803.html","currentJournalBase":"http://skipy-ru.livejournal.com"}, i;
                    for (i in p) Site[i] = p[i];
                })();
                Site.current_journal = {"url_profile":"http://skipy-ru.livejournal.com/profile","url_journal":"http://skipy-ru.livejournal.com","is_identity":"","userid":19825540,"is_shared":"","display_name":"skipy_ru","is_comm":"","username":"skipy_ru","is_syndicated":"","userpic_w":88,"userpic_h":100,"can_receive_vgifts":1,"url_allpics":"http://www.livejournal.com/allpics.bml?user=skipy_ru","is_person":"1","url_message":"http://www.livejournal.com/inbox/compose.bml?user=skipy_ru","url_userpic":"http://l-userpic.livejournal.com/88311264/19825540","display_username":"skipy_ru"};
                Site.version = '106';
           </script>
<script type="text/javascript" src="http://l-stat.livejournal.com/js/??.ljlib.js?v=1373349570"></script>
<script type="text/javascript" src="http://l-stat.livejournal.com/js/??.comments.js?v=1373349570"></script>
<script type="text/javascript" src="http://l-stat.livejournal.com/js/??jquery/jquery.hotkeys.js,jquery/jquery.easing.js,jquery/fotki/jquery.lj.sizeSelect.js,swfupload/swfupload.js,swfupload/swfobject.js,lib/jquery-ui/jquery.ui.mouse.js,lib/jquery-ui/jquery.ui.sortable.min.js,jquery/jquery.lj.photouploader.js,jquery/jquery.lj.ljcut.js,editor.js,swfupload/swfupload.queue.js,jquery/jquery.fotki.js,lib/jquery-ui/jquery.ui.mouse.min.js,jquery/jquery.lj.share.js,ljshare-init.js,jquery/jquery.lj.journalPromoStrip.js,ljlive.js,jquery/jquery.lj.sprite.js,ljlive/brand.double.js,jquery/jquery.vkloader.js,lj.api.js?v=1373349570"></script>
<!--[if IE]><script type="text/javascript" src="http://l-stat.livejournal.com/js/??jquery/jquery.ie6multipleclass.min.js?v=1373349570"></script><![endif]-->
<!--[if lte IE 9]><script type="text/javascript" src="http://l-stat.livejournal.com/js/??ie9pinned.js?v=1373349570"></script><![endif]-->
<script type="text/javascript" src="http://l-stat.livejournal.com/??lanzelot/js/menu.js?v=1373349570"></script>
<script type="text/javascript">
Site.LJShareParams = {"ml":{"close":"Close","title":"Share"},"services":{"stumbleupon":{"bindLink":"http://www.livejournal.com/redirect/SHARING_stumbleupon?url=http%3A%2F%2Fwww.stumbleupon.com%2Fsubmit%3Furl%3D{url}","title":"StumbleUpon"},"moimir":{"bindLink":"http://www.livejournal.com/redirect/SHARING_moimir?url=http%3A%2F%2Fconnect.mail.ru%2Fshare%3Furl%3D{url}","title":"Moi mir"},"twitter":{"bindLink":"http://www.livejournal.com/redirect/SHARING_twitter?url=http%3A%2F%2Ftwitter.com%2Fshare%3Furl%3D{url}%26text%3D{title}%26hashtags%3D{hashtags}","title":"Twitter"},"digg":{"bindLink":"http://www.livejournal.com/redirect/SHARING_digg?url=http%3A%2F%2Fdigg.com%2Fsubmit%3Furl%3D{url}","title":"Digg"},"email":{"bindLink":"http://www.livejournal.com/redirect/SHARING_email?url=http%3A%2F%2Fapi.addthis.com%2Foexchange%2F0.8%2Fforward%2Femail%2Foffer%3Fusername%3Dinternal%26url%3D{url}%26title%3D{title}","title":"E-mail"},"livejournal":{"bindLink":"http://www.livejournal.com/redirect/SHARING_livejournal?url=http%3A%2F%2Fwww.livejournal.com%2Fupdate.bml%3Frepost_type%3Dc%26repost%3D{url}","openInTab":1,"title":"LiveJournal"},"vkontakte":{"bindLink":"http://www.livejournal.com/redirect/SHARING_vkontakte?url=http%3A%2F%2Fvkontakte.ru%2Fshare.php%3Furl%3D{url}","title":"VKontakte"},"facebook":{"bindLink":"http://www.livejournal.com/redirect/SHARING_facebook?url=http%3A%2F%2Fwww.facebook.com%2Fsharer.php%3Fu%3D{url}","title":"Facebook"},"odnoklassniki":{"bindLink":"http://www.livejournal.com/redirect/SHARING_odnoklassniki?url=http%3A%2F%2Fwww.odnoklassniki.ru%2Fdk%3Fst.cmd%3DaddShare%26st.s%3D1%26st._surl%3D{url}","title":"Odnoklassniki"},"tumblr":{"bindLink":"http://www.livejournal.com/redirect/SHARING_tumblr?url=http%3A%2F%2Fwww.tumblr.com%2Fshare%2Flink%3Furl%3D{url}%26name%3D{title}%26description%3D{text}","title":"Tumblr"}},"links":["livejournal","facebook","vkontakte","odnoklassniki","moimir","twitter","tumblr","email"]};</script>
<script type="text/javascript">if (jQuery.VK) { jQuery.VK.init({apiId: 2244371, onlyWidgets: true})} </script> 
    <meta property="og:description" content="Очень часто встречается в последнее время проблема: пишут объект в поток, меняют, пишут снова &amp;#8211; а на выходе при чтении получают два одинаковых объекта. Первых.…" /><meta property="og:image" content="http://l-userpic.livejournal.com/88311264/19825540" /><meta property="og:title" content="Повторная запись объектов в поток" /><meta property="og:type" content="website" /><meta property="og:url" content="http://skipy-ru.livejournal.com/5803.html" /><meta property="twitter:card" content="summary" /><meta property="twitter:site" content="@livejournal" /><link href='http://www.livejournal.com/go.bml?journal=skipy_ru&amp;itemid=5803&amp;dir=prev' rel='Previous' />
<link href='http://www.livejournal.com/go.bml?journal=skipy_ru&amp;itemid=5803&amp;dir=next' rel='Next' />
<noscript><meta http-equiv="refresh" content="0; url=http://skipy-ru.livejournal.com/5803.html?nojs=1" /></noscript><script>jQuery('noscript').last().remove()</script>

    

    <script type="text/javascript" src="http://l-stat.livejournal.com/tmpl/??Widgets/bubble.tmpl,Form/UpicSelect.tmpl,Widgets/photouploader/photouploader.tmpl,Widgets/photouploader/insertedItem.tmpl,Widgets/photouploader/uploadedItem.tmpl,Widgets/share.tmpl,Comments/Twig.tmpl?v=1364338105&tm=1526168;uselang=en_LJ"></script>
<script type="text/javascript" src="http://l-stat.livejournal.com/tmpl/??Widgets/contextualhover.jqtmpl?v=1343758569&tm=1526168;uselang=en_LJ"></script>

</head>

<body class="s-lanzelot p-footer-lite logged-out p-ljtimes"  >
    

    <!-- Content Wrapper -->
    <div class="s-content-wrapper">

    
	
    <header role="banner">
        <div class="s-header">
            <h1 class="logo"><a href="http://www.livejournal.com">LiveJournal.com</a></h1>
            
            <div class="options">

                
                    <div class="login-tl">
                        <form action="https://www.livejournal.com/login.bml?ret=1" id="login" method="post" name="login">
                            <input type='hidden' name='mode' value='login' />

                            

                            

                            <table class="login-form">

                            <tr>
                                <td colspan="3">
                                    <a href="http://www.livejournal.com/create.bml">Create an Account</a>
                                    or login with
                                    <span class="b-auth-wrapper">
                                        <a href="http://www.livejournal.com/identity/login.bml?type=facebook" title="Facebook" class="i-auth"><img src="http://l-stat.livejournal.com/img/icons/facebook-16.png?v=29916" width="16" height="16" alt="Facebook" /></a>
                                        <a href="http://www.livejournal.com/identity/login.bml?type=twitter" title="Twitter" class="i-auth"><img src="http://l-stat.livejournal.com/img/icons/twitter-16.png?v=29916" width="16" height="16" alt="" /></a>
                                        <a href="#login-more" class="i-auth i-loginpopup-show"><img src="http://l-stat.livejournal.com/img/icons/showmore.gif?v=11430" width="16" height="16" alt="More login options" /></a>
                                    </span>
                                    <div class="b-loginpopup" id="login-more">
                                        <ul class="b-loginpopup-items">
                                            <li class="b-loginpopup-item">
                                                <a href="http://www.livejournal.com/identity/login.bml?type=openid" title="OpenID"><img src="http://l-stat.livejournal.com/img/icons/openid-16.gif?v=17127" width="16" height="16" alt="OpenID" />OpenID</a>
                                            </li>
                                            <li class="b-loginpopup-item">
                                                <a href="http://www.livejournal.com/identity/login.bml?type=google" title="Google"><img src="http://l-stat.livejournal.com/img/icons/google-16.png?v=29916" width="16" height="16" alt="Google" />Google</a>
                                            </li>
                                            <li class="b-loginpopup-item">
                                                <a href="http://www.livejournal.com/identity/login.bml?type=mailru" title="Mail.Ru"><img src="http://l-stat.livejournal.com/img/icons/mailru-16.gif?v=11910" width="16" height="16" alt="Mail.Ru" />Mail.Ru</a>
                                            </li>
                                            <li class="b-loginpopup-item">
                                                <a href="http://www.livejournal.com/identity/login.bml?type=vkontakte" title="VKontakte"><img src="http://l-stat.livejournal.com/img/icons/vkontakte-16.png?v=29916" width="16" height="16" alt="VKontakte" />VKontakte</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <script type="text/javascript">
                                        jQuery('div.b-loginpopup').bubble({ target: jQuery('a.i-loginpopup-show'), closeControl: false, showOn: 'click' });
                                    </script>
                                </td>
                            </tr>

                            <tr>
                                    <td>
                                        <input type="text" class="txt" name="user" id="login_user" value="username"
                                            onblur="if (this.value=='') this.value='username';"
                                            onfocus="if (this.value=='username') this.value='';" />
                                    </td>
                                    <td><input type="password" name="password" class="txt lj_login_password" id="login_password" /></td>
                                    <td>
                                        <input id="loginlj_submit" name="_submit" type="submit"
                                            value="Log in"
                                             />
                                    </td>
                            </tr>

                            <tr>
                                    <td>
                                        <label for="login-rememb">
                                            <input type="checkbox" name="remember_me" value="1" id="login-rememb" class="rememb">
                                            Remember
                                        </label>
                                    </td>
                                    <td><label class="forget"><a href="http://www.livejournal.com/lostinfo.bml">Forgot your login or password?</a></label></td>
                                    <td></td>
                            </tr>

                            </table>
                        </form>
                    </div>
                

                
            </div>


            <div class="themes">

                    <div class='menu' style='margin-top: 20px; border-top:1px solid #fff' >
                        <ul>
                            
                                <li id="m0"
                                    class='horizon-menu-home'
                                    onmouseover="show_menu(0, 5, 1)"
                                    onmouseout="hide_menu(0, 5, 1)"
                                >
                                    <span><a href='http://www.livejournal.com/' id="horizon-menu-home"
                                        
                                    >Home</a></span>

                                    
                                </li>
                            
                                <li id="m1"
                                    class='horizon-menu-create'
                                    onmouseover="show_menu(1, 5, 1)"
                                    onmouseout="hide_menu(1, 5, 1)"
                                >
                                    <span><a href='http://www.livejournal.com/create.bml' id="horizon-menu-create"
                                        
                                    >Create an account</a></span>

                                    
                                </li>
                            
                                <li id="m2"
                                    class='horizon-menu-explore'
                                    onmouseover="show_menu(2, 5, 1)"
                                    onmouseout="hide_menu(2, 5, 1)"
                                >
                                    <span><a href='http://www.livejournal.com/search/' id="horizon-menu-explore"
                                        
                                    >Explore</a></span>

                                    
                                        <ul class="submenu" id="s2">
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/interests.bml" id="horizon-menu-explore">Search by Interest</a></div>
                                                </li>
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/schools/" id="horizon-menu-explore">Search by School</a></div>
                                                </li>
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/syn/" id="horizon-menu-explore">Feeds</a></div>
                                                </li>
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/radio/" id="horizon-menu-explore">FRNK Radio</a></div>
                                                </li>
                                            
                                                <li  class="last"  >
                                                    <div><a href="http://www.livejournal.com/stats/latest.bml" id="horizon-menu-explore">Latest entries</a></div>
                                                </li>
                                            
                                        </ul>
                                    
                                </li>
                            
                                <li id="m3"
                                    class='horizon-menu-shop'
                                    onmouseover="show_menu(3, 5, 1)"
                                    onmouseout="hide_menu(3, 5, 1)"
                                >
                                    <span><a href='http://www.livejournal.com/shop/' id="horizon-menu-shop"
                                        
                                    >Shop</a></span>

                                    
                                        <ul class="submenu" id="s3">
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/shop/vgift.bml" id="horizon-menu-shop">Virtual Gifts</a></div>
                                                </li>
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/shop/theme/" id="horizon-menu-shop">Themes</a></div>
                                                </li>
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/shop/userheads.bml" id="horizon-menu-shop">Custom Userheads</a></div>
                                                </li>
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/shop/domain_ru.bml" id="horizon-menu-shop">Domains RF</a></div>
                                                </li>
                                            
                                                <li  class="last"  >
                                                    <div><a href="http://www.livejournal.com/shop/selfpromo.bml" id="horizon-menu-shop">Promo</a></div>
                                                </li>
                                            
                                        </ul>
                                    
                                </li>
                            
                                <li id="m4"
                                    class='horizon-menu-apps'
                                    onmouseover="show_menu(4, 5, 1)"
                                    onmouseout="hide_menu(4, 5, 1)"
                                >
                                    <span><a href='http://www.livejournal.com/extra/' id="horizon-menu-apps"
                                        
                                    >LJ Extras</a></span>

                                    
                                        <ul class="submenu" id="s4">
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/devices" id="horizon-menu-apps">Mobile</a></div>
                                                </li>
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/chat/" id="horizon-menu-apps">LJ Talk</a></div>
                                                </li>
                                            
                                                <li  >
                                                    <div><a href="http://www.livejournal.com/download/" id="horizon-menu-apps">Downloads</a></div>
                                                </li>
                                            
                                                <li  class="last"  >
                                                    <div><a href="http://www.livejournal.com/betatest.bml" id="horizon-menu-apps">Betatest</a></div>
                                                </li>
                                            
                                        </ul>
                                    
                                </li>
                            
                                <li id="m5"
                                    class='ljmaps-menu last'
                                    onmouseover="show_menu(5, 5, 1)"
                                    onmouseout="hide_menu(5, 5, 1)"
                                >
                                    <span><a href='http://maps.livejournal.com' id="ljmaps-menu"
                                        
                                            onclick="javascript: location.href='http://ad.adriver.ru/cgi-bin/click.cgi?sid=1&amp;bt=2&amp;ad=403061&amp;pid=1207016&amp;bid=2646221&amp;bn=2646221&amp;rnd=' + Math.random(); return false;"
                                        
                                    >LJMaps</a></span>

                                    
                                </li>
                            

                            <li id="m_last" class="ex last"><span><a href="//">&nbsp;</a></span></li>
                        </ul>
                    </div>
            </div>

            <div class="searchbar">

                    <form method="GET" name="sform" action="http://www.livejournal.com/search/" role="search">
                        <table>
                           <tr>
                                <td class="txt">
                                    <input type="text" name="q" value="" id="searchbar"/><input type="hidden" name="ie" value="utf-8" />
                                    <ul class="links">
                                        <li class="sample">
                                            Example:&nbsp;
                                            <a href="javascript:void(0);"
                                                onclick="getElementById('searchbar').value='Blogs'"
                                            >
                                                Blogs
                                            </a>
                                        </li>
                                    </ul>
                                </td>
                                <td class="area">
                                    <select name="area">
                                        <option value='default'>All</option>
                                        <option value='posts'>Entries</option>
                                        <option value='comments'>Comments</option>
                                        <option value='journals'>Journals</option>
                                        <option value='faq'>FAQ</option>
                                    </select>
                                </td>
                                <td class="btn">
                                    <input type="submit" value="Search"/>
                                </td>
                            </tr>
                        </table>
                    </form>

            </div>
        </div>
    </header>

    <div class="hr div"><hr/></div>

    

    

    <div class="s-content">

        <!-- your content here -->
        <div class="lanzelot-content">

            <div id="Content">

                

                

                

                

                

                

                <!-- <h1></h1> -->

                
                <div id='content-wrapper' style='margin-right: px;'>
                    

                    

                    <article class="b-singlepost" role="main"> <div class="b-singlepost-about"> <dl class="b-singlepost-author"> <dt class="b-singlepost-author-userpic">  <img src="http://l-userpic.livejournal.com/88311264/19825540" width="88" height="100" align="absmiddle" title="Евгений Матюшкин: logo" alt="">  </dt> <dd class="b-singlepost-author-userinfo"> Евгений Матюшкин (<span  class="ljuser  i-ljuser     "  lj:user="skipy_ru"><a href="http://skipy-ru.livejournal.com/profile" ><img width="16" height="16"  class="i-ljuser-userhead"  src="http://l-stat.livejournal.com/img/userinfo.gif?v=17080?v=106" /></a><a href="http://skipy-ru.livejournal.com/" class="i-ljuser-username"   ><b>skipy_ru</b></a></span>) wrote,<br/> <span class="b-singlepost-author-date"><a href="http://skipy-ru.livejournal.com/2012/">2012</a>-<a href="http://skipy-ru.livejournal.com/2012/09/">09</a>-<a href="http://skipy-ru.livejournal.com/2012/09/26/">26</a> 14:23:00</span> </dd> </dl> <div class="b-singlepost-standout"> <ul class="b-linkbar">  <li class="b-linkbar-item"><a href="http://www.livejournal.com/go.bml?journal=skipy_ru&amp;itemid=5803&amp;dir=prev" rel="nofollow" title="Previous" class="b-controls b-controls-prev"><i class="b-controls-bg"></i>Previous</a></li>  <li class="b-linkbar-item"><a href="http://www.livejournal.com/tools/memadd.bml?journal=skipy_ru&amp;itemid=5803" rel="nofollow" title="Memorize" class="b-controls b-controls-memadd"><i class="b-controls-bg"></i>Memorize</a></li>  <li class="b-linkbar-item">
            <a href="#" rel="nofollow" title="Share" class="b-controls b-controls-share js-lj-share" data-text="%D0%9E%D1%87%D0%B5%D0%BD%D1%8C%20%D1%87%D0%B0%D1%81%D1%82%D0%BE%20%D0%B2%D1%81%D1%82%D1%80%D0%B5%D1%87%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%B2%20%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BD%D0%B5%D0%B5%20%D0%B2%D1%80%D0%B5%D0%BC%D1%8F%20%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D0%B0%3A%20%D0%BF%D0%B8%D1%88%D1%83%D1%82%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%20%D0%B2%20%D0%BF%D0%BE%D1%82%D0%BE%D0%BA,%20%D0%BC%D0%B5%D0%BD%D1%8F%D1%8E%D1%82,%20%D0%BF%D0%B8%D1%88%D1%83%D1%82%20%D1%81%D0%BD%D0%BE%D0%B2%D0%B0%20%26%238211%3B%20%D0%B0%20%D0%BD%D0%B0%20%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%B5%20%D0%BF%D1%80%D0%B8%20%D1%87%D1%82%D0%B5%D0%BD%D0%B8%D0%B8%20%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B0%D1%8E%D1%82%20%D0%B4%D0%B2%D0%B0%20%D0%BE%D0%B4%D0%B8%D0%BD%D0%B0%D0%BA%D0%BE%D0%B2%D1%8B%D1%85%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%B0.%20%D0%9F%D0%B5%D1%80%D0%B2%D1%8B%D1%85.%20%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F,%20%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B4%20%D0%B2%D1%82%D0%BE%D1%80%D0%BE%D0%B9%20%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C%D1%8E,%20%D0%BD%D0%B5%20%D0%BF%D0%B5%D1%80%D0%B5%D0%B4%D0%B0%D1%8E%D1%82%D1%81%D1%8F.%20%D0%A7%D1%82%D0%BE%20%D0%B4%D0%B5%D0%BB%D0%B0%D1%82%D1%8C%3F%20%20%D0%9D%D0%B0%20%D1%81%D0%B0%D0%BC%D0%BE%D0%BC%20%D0%B4%D0%B5%D0%BB%D0%B5%20%D1%82%D0%B0%D0%BA%E2%80%A6" data-ditemid="5803" data-poster="skipy_ru" data-hashtags="" data-title="%D0%9F%D0%BE%D0%B2%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F%20%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BE%D0%B2%20%D0%B2%20%D0%BF%D0%BE%D1%82%D0%BE%D0%BA" data-url="http%3A%2F%2Fskipy-ru.livejournal.com%2F5803.html">
                <i class="b-controls-bg"></i>Share
            </a>
        </li>  <li class="b-linkbar-item"><a href="http://www.livejournal.com/go.bml?journal=skipy_ru&amp;itemid=5803&amp;dir=next" rel="nofollow" title="Next" class="b-controls b-controls-next"><i class="b-controls-bg"></i>Next</a></li>  </ul> </div> </div>    <div class="b-singlepost-wrapper">    <h1 class="b-singlepost-title">     Повторная запись объектов в поток  </h1>  <article class="b-singlepost-body"> Очень часто встречается в последнее время проблема: пишут объект в поток, меняют, пишут снова &#8211; а на выходе при чтении получают два одинаковых объекта. Первых. Изменения, сделанные перед второй записью, не передаются. <a name="cutid1"></a>Что делать?<br /><br />На самом деле так оно и должно быть. По следующей причине.<br /><br />Класс <code>java.io.ObjectOuputStream</code>, который используется для сериализации объектов &#8211; он умный. Он умеет сохранять <b>граф</b> объектов, с учетом всех связей. Это означает, что один и тот же объект он не будет сериализовать два раза. Один раз он его сериализует, а во второй раз просто запишет в поток ссылку на тот же самый первый объект. И тогда при десериализации вместо восстановления еще одного объекта он просто вернет ссылку на уже созданный. В результате два класса, имеющие ссылку на один и тот же третий, так и восстановятся.<br /><br />И вот тут-то как раз и есть подводный камень. <code>ObjectOuputStream</code> контролирует <b>ссылочную</b> целостность графа. Иначе говоря, сравнивает он ссылки. И если мы запишем объект, а потом изменим его &#8211; <code>ObjectOuputStream</code> об этом изменении не узнает и сочтет объект тем же самым, который он уже записал.<br /><br />Иллюстрируется это просто:<br /><pre style="border: solid 1pt #808080; padding: 10pt;"><b>package</b> ru.skipy.tests;

<b>import</b> java.io.*;
<b>import</b> java.util.*;

<font color="#808080">/**
 * ObjectOutputStreamTest
 *
 * <b>@author</b> Eugene Matyushkin aka Skipy
 * <b>@since</b> 26.09.12
 */</font>
<b>public class</b> ObjectOutputStreamTest {

    <b>public static void</b> main(String[] args) <b>throws</b> IOException, ClassNotFoundException {
        ByteArrayOutputStream baos = <b>new</b> ByteArrayOutputStream();
        ObjectOutputStream oos = <b>new</b> ObjectOutputStream(baos);
        List&lt;String&gt; data = <b>new</b> ArrayList&lt;&gt;();
        data.add(<font color="#0000FF">"One"</font>);
        data.add(<font color="#0000FF">"Two"</font>);
        data.add(<font color="#0000FF">"Three"</font>);
        oos.writeObject(data);
        data.clear();
        <font color="#808080">// 1</font>
        <font color="#808080">//data = <b>new</b> ArrayList&lt;&gt;();</font>
        data.add(<font color="#0000FF">"Ein"</font>);
        data.add(<font color="#0000FF">"Zwei"</font>);
        data.add(<font color="#0000FF">"Drei"</font>);
        <font color="#808080">// 2</font>
        <font color="#808080">//oos.reset();</font>
        oos.writeObject(data);
        oos.flush();
        oos.close();
        baos.close();
        ByteArrayInputStream bais = <b>new</b> ByteArrayInputStream(baos.toByteArray());
        ObjectInputStream ois = <b>new</b> ObjectInputStream(bais);
        List&lt;String&gt; newData = (List&lt;String&gt;)ois.readObject();
        System.out.println(newData);
        newData = (List&lt;String&gt;)ois.readObject();
        System.out.println(newData);
    }
}</pre>В результате выполнения этого кода мы получим:<br /><pre style="border: solid 1pt #808080; padding: 10pt;">[One, Two, Three]
[One, Two, Three]</pre>Какие есть варианты действий в такой ситуации?<br /><br />Первый, самый простой &#8211; каждый раз создавать новый объект для записи, вместо модификации существующего. Это, естественно, будет работать. В коде выше это первая закомментированная строка. Убираем комментарий &#8211; и тут же получаем:<br /><pre style="border: solid 1pt #808080; padding: 10pt;">[One, Two, Three]
[Ein, Zwei, Drei]</pre>Второй способ менее тривиален. Заключается он в использовании метода <code>reset()</code> класса <code>ObjectOuputStream</code> (вторая закомментированная строка в коде). Метод этот, как сказано в документации (<a href="http://docs.oracle.com/javase/6/docs/api/java/io/ObjectOutputStream.html#reset()" rel="nofollow">http://docs.oracle.com/javase/6/docs/api/j<wbr />ava/io/ObjectOutputStream.html#reset()</a>):<br /><br /><p style="border: solid 1pt #808080; padding: 10pt;">Reset will disregard the state of any objects already written to the stream. The state is reset to be the same as a new ObjectOutputStream. The current point in the stream is marked as reset so the corresponding ObjectInputStream will be reset at the same point. Objects previously written to the stream will not be refered to as already being in the stream. They will be written to the stream again.</p><br />Коротко говоря &#8211; этот метод отбрасывает информацию обо всех объектах, записанных уже в поток. Ключевое тут &#8211; <i>the state of <u>any</u> objects</i>, т.е. обо <b>всех</b> объектах. Это серьезный подводный камень данного способа. Представьте, что у нас есть четыре объекта &#8211; A, B, C и D. A и B ссылаются на C. D - изменяемый. Нам надо записать D, потом A, потом изменить D, снова записать его, потом записать B. Что получится?<br /><br />Если мы НЕ используем <code>reset</code> и не пересоздаем объект D. Записываем D. Записываем A, по ссылке записывается и C. Потом модифицируем D. Записываем его &#8211; в поток попадает только ссылка на уже записанный объект D. Записываем B, он ссылается на C, который уже записан по ссылке из А. Таким образом, мы сохраняем ссылочную целостность между A, B и C, но теряем изменения в D.<br /><br />Что получится при использовании метода <code>reset()</code>? Записываем D. Записываем A, по ссылке записывается и C. Потом модифицируем D. Вызываем <code>reset()</code>. Записываем D, <code>ObjectOuputStream</code> расценивает его как новый объект, тут всё в порядке. Однако теперь мы записываем B, который ссылается на C, который уже записан по ссылке из А. Но поскольку мы информацию об этом благополучно забыли при вызове <code>reset()</code> &#8211; объект C <b>опять</b> будет записан в поток. Второй раз. И при десериализации мы получим объекты A и B, ссылающиеся на <b>разные</b> объекты C. Т.е. мы получаем нарушение ссылочной целостности.<br /><br />Это иллюстрируется следующим примером:<br /><pre style="border: solid 1pt #808080; padding: 10pt;"><b>package</b> ru.skipy.tests;

<b>import</b> java.io.*;

<font color="#808080">/**
 * ObjectOutputStreamTest2
 *
 * <b>@author</b> Eugene Matyushkin aka Skipy
 * <b>@since</b> 26.09.12
 */</font>
<b>public class</b> ObjectOutputStreamTest2 {

    <b>public static void</b> main(String[] args) <b>throws</b> IOException, ClassNotFoundException {
        ByteArrayOutputStream baos = <b>new</b> ByteArrayOutputStream();
        ObjectOutputStream oos = <b>new</b> ObjectOutputStream(baos);
        D d = <b>new</b> D();
        d.msg = <font color="#0000FF">"Message 1"</font>;
        C c = <b>new</b> C();
        A a = <b>new</b> A();
        a.c = c;
        B b = <b>new</b> B();
        b.c = c;
        oos.writeObject(d);
        oos.writeObject(a);
        d.msg = <font color="#0000FF">"Message 2"</font>;
        <font color="#808080">//oos.reset();</font>
        oos.writeObject(d);
        oos.writeObject(b);
        oos.flush();
        oos.close();
        baos.close();
        ByteArrayInputStream bais = <b>new</b> ByteArrayInputStream(baos.toByteArray());
        ObjectInputStream ois = <b>new</b> ObjectInputStream(bais);
        D nd1 = (D)ois.readObject();
        A na = (A)ois.readObject();
        D nd2 = (D)ois.readObject();
        B nb = (B)ois.readObject();
        System.out.println(<font color="#0000FF">"\"Message 1\" expected, found: "</font> + nd1.msg);
        System.out.println(<font color="#0000FF">"\"Message 2\" expected, found: "</font> + nd2.msg);
        System.out.println(<font color="#0000FF">"Same link on object C expected, found? "</font> + (na.c == nb.c));
    }

    <b>private static class</b> A <b>implements</b> Serializable {
        <b>private</b> C c;
    }

    <b>private static class</b> B <b>implements</b> Serializable {
        <b>private</b> C c;
    }

    <b>private static class</b> C <b>implements</b> Serializable {
    }

    <b>private static class</b> D <b>implements</b> Serializable {
        <b>private</b> String msg;
    }
}</pre>При закомментированном вызове <code>ObjectOutputStream.reset()</code> мы получаем:<br /><pre style="border: solid 1pt #808080; padding: 10pt;">"Message 1" expected, found: Message 1
"Message 2" expected, found: Message 1
Same link on object C expected, found? true</pre>. Это та проблема, с которой всё и началось &#8211; в поток не записалось новое значение в объекте D. А вот если раскомментировать вызов <code>reset()</code>, мы получим:<br /><pre style="border: solid 1pt #808080; padding: 10pt;">"Message 1" expected, found: Message 1
"Message 2" expected, found: Message 2
Same link on object C expected, found? <font color="#FF0000"><b>false</b></font></pre>Исходная проблема решилась &#8211; новое значение записалось в поток. Но ссылочная целостность графа объектов A, B и C нарушена &#8211; A и B теперь ссылаются на разные экземпляры объекта C. <a name='cutid1-end'></a><br /><br />Резюме. <b>При необходимости повторной записи объекта в <code>ObjectOutputStream</code> самым простым и надежным решением является создание нового экземпляра этого объекта. Использовать метод <code>ObjectOutputStream.reset()</code> для переинициализации потока можно только тогда, когда вы хорошо понимаете, что делаете и зачем.</b> </article>  <div class="b-singlepost-tags ljtags"> <strong>Tags:</strong> <a href='http://skipy-ru.livejournal.com/tag/io'>io</a>, <a href='http://skipy-ru.livejournal.com/tag/%D0%BC%D0%B0%D0%BB%D0%B5%D0%BD%D1%8C%D0%BA%D0%B8%D0%B5%20%D1%82%D0%BE%D0%BD%D0%BA%D0%BE%D1%81%D1%82%D0%B8'>маленькие тонкости</a> </div>  </div>   <div  id="comments"  class=" b-grove b-grove-hover  ljtimes-disabled  b-grove-3comments    lj-widget" data-authtoken="c0:1373551200:213:86400:wFxuetMoWJ-0-:9e4f8896e12d03fdd5e6f68639d6aada" data-widget="comments"> <div class="b-xylem b-xylem-first"> <ul class="b-xylem-cells">  <li class="b-xylem-cell b-xylem-cell-add">  <a class="b-addcomment" href="http://skipy-ru.livejournal.com/5803.html?mode=reply#add_comment"><span class="b-addcomment-inner"><i class="b-addcomment-icon"></i>Post a new comment</span></a>   <div class=" b-watering  b-watering-trueauth-anonymous b-watering-realauth-anonymous b-watering-authtype-anonymous     b-watering-user-notafriend b-watering-user-regonly    b-watering-user-logips b-watering-user-logips-all   b-watering-user-screened b-watering-user-screened-anon   b-watering-captcha-all  "> <form action="http://www.livejournal.com/talkpost_do.bml" method="post" id="postform"> <div class="b-watering-wrapper"> <input type='hidden' name="journal" value="skipy_ru" /> <input type='hidden' name="itemid" value="5803" /> <input type='hidden' name="response" value="" /> <input type='hidden' name="lj_form_auth" value="c0:1373551200:213:86400:wFxuetMoWJ-0-:9e4f8896e12d03fdd5e6f68639d6aada" id="lj_form_auth" /> <input type='hidden' name="chrp1" value="5803-19825540-1373551200-6XbFDp9Vinzn9THdRIlw-afa87083844f6887700685e352076aaa" /> <input type='hidden' name="chal" value="c0:1373551200:213:900:bhPNYsCvPR57U6IwhuxW:fa937f22c25784354e482efbe0774409" /> <input type='hidden' name="cookieuser" value="" /> <input type='hidden' name="replyto" value="0" id="replyto" /> <input type='hidden' name="parenttalkid" value="0" id="parenttalkid" /> <input type='hidden' name="editid" value="0" /> <input type='hidden' name="json" value="0" /> <input type='hidden' name="talkpost_do" value="0" /> <input type='hidden' name="subject" /> <input type='hidden' name="stylemine" value="0" /> <input type='hidden' name="viewing_thread" value="" id="viewing_thread" /> <div class="b-msgsystem-errorbox"> <h4 class="b-msgsystem-errorbox-head">Error</h4> <p class="b-msgsystem-error b-msgsystem-error-ajax"></p>          <p class="b-msgsystem-error b-msgsystem-error-regonly">Anonymous comments are disabled in this journal</p>   </div> <div class="b-watering-outer"> <div class="b-watering-fields"> <div class="b-watering-inner"> <div class="b-watering-user"> <div class="b-watering-user-login"> <ul class="b-watering-user-login-items">   <li class="b-watering-user-login-item b-watering-user-login-user">  <input name="usertype" value="user"  id="user" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>  <span class="b-watering-user-login-details"> <input placeholder="Username" name="userpost" type="text" tabindex="25" autocomplete="off" class="auth-input"> <input placeholder="Password" name="password" type="password" tabindex="25" autocomplete="off" class="auth-input"> </span>  </li>    <li class="b-watering-user-login-item b-watering-user-login-facebook">  <input name="usertype" value="facebook"  id="facebook" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  We will log you in after post  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-twitter">  <input name="usertype" value="twitter"  id="twitter" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  We will log you in after post  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-openid">  <input name="usertype" value="openid"  id="openid" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  <input id="openid" name="openid:url" placeholder="openid" type="text"  tabindex="25" autocomplete="off" class="auth-input">  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-google">  <input name="usertype" value="google"  id="google" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  We will log you in after post  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-mailru">  <input name="usertype" value="mailru"  id="mailru" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  We will log you in after post  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-vkontakte">  <input name="usertype" value="vkontakte"  id="vkontakte" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  We will log you in after post  </span>   </li>    <li class="b-watering-user-login-item b-watering-user-login-anonymous">  <input name="usertype" value="anonymous" checked id="anonymous" class="b-watering-user-login-checkbox" type="radio">  <i class="b-watering-user-login-pic"></i>   <span class="b-watering-user-login-details">  Anonymously  </span>   </li>   </ul> </div> <div class="b-watering-user-options">  <a href="javascript:void(0);" class="b-watering-user-change b-pseudo" tabindex="10">switch</a>  <div class="b-watering-user-services"> <ul class="b-watering-user-services-items">  <li class="b-watering-user-services-item b-watering-user-services-user"> <a href="#user" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">LiveJournal</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-facebook"> <a href="#facebook" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">Facebook</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-twitter"> <a href="#twitter" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">Twitter</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-openid"> <a href="#openid" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">OpenId</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-google"> <a href="#google" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">Google</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-mailru"> <a href="#mailru" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">MailRu</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-vkontakte"> <a href="#vkontakte" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">VKontakte</span> </a> </li>  <li class="b-watering-user-services-item b-watering-user-services-anonymous"> <a href="#anonymous" tabindex="20"><i class="b-watering-user-services-pic"></i><span class="b-watering-user-services-name">Anonymously</span> </a> </li>  </ul> </div>   </div> </div> <div class="  b-ljuserpic   b-ljuserpic-nopics  ">  <input type="hidden" name="prop_picture_keyword" id="prop_picture_keyword" value="">  <span class="b-ljuserpic-default">default userpic</span> <div class=" b-myuserpic  b-myuserpic-anonymous "> <a href="javascript:void(0);" class="b-myuserpic-current"  data-nodefpic="url(http://l-stat.livejournal.com/img/userpics/userpic-user.png?v=15821)" data-nodeflabel="default userpic"  style="background-image: url(  http://l-stat.livejournal.com/img/userpics/userpic-anonymous.png?v=15821  );" tabindex="30"></a>  </div> </div> <div class=" b-updateform lj-widget " data-widget="commentsFormToolbar" > <div class="b-updateform-bar"> <ul class="b-updateform-buttons b-updateform-buttons-firstsection">   <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class="b-updateform-button b-updateform-button-bold" title="Insert Bold" tabindex="151" data-type="bold" data-role="style"> <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Bold</span> </a> </li>    <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class="b-updateform-button b-updateform-button-italic" title="Insert Italic" tabindex="151" data-type="italic" data-role="style"> <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Italic</span> </a> </li>    <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class="b-updateform-button b-updateform-button-underline" title="Insert Underline" tabindex="151" data-type="underline" data-role="style"> <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Underline</span> </a> </li>    <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class="b-updateform-button b-updateform-button-strikethrough" title="Insert Strikethrough" tabindex="151" data-type="strikethrough" data-role="style"> <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Strikethrough</span> </a> </li>             </ul> <ul class="b-updateform-buttons b-updateform-buttons-secondsection">           <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class="b-updateform-button b-updateform-button-link" title="Insert Link" tabindex="151" data-type="link" data-role="bubble"> <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Link</span> </a> </li>    <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class="b-updateform-button b-updateform-button-user" title="Insert LJ User" tabindex="151" data-type="user" data-role="bubble"> <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert LJ User</span> </a> </li>         </ul> <ul class="b-updateform-buttons b-updateform-buttons-thirdsection">               <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class="b-updateform-button b-updateform-button-photo" title="Insert Photo" tabindex="151" data-type="photo" data-role="photouploader"> <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Photo</span> </a> </li>    <li class="b-updateform-buttons-item"> <a href="javascript:void(0);" class="b-updateform-button b-updateform-button-video" title="Insert Video" tabindex="151" data-type="video" data-role="bubble"> <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Insert Video</span> </a> </li>     </ul> <ul class="b-updateform-buttons b-updateform-buttons-aside">                   <li class="b-updateform-buttons-item">  <a href="javascript:void(0);" class="b-updateform-button b-updateform-button-spell" title="Spell check" tabindex="151" data-type="spell" data-role="spell"> <i class="b-updateform-button-pic"></i> <span class="b-updateform-button-title b-pseudo">Spell check</span> </a>  </li>   </ul> </div> <textarea  name="body" id="body" cols="60" rows="10" class="b-updateform-textarea" tabindex="50" autocomplete="off"></textarea> </div> <div class="b-watering-msgbox">    <p class="b-msgsystem-error b-msgsystem-error-screened">Your reply will be screened</p>    <p class="b-msgsystem-error b-msgsystem-error-logcommentips"> Your IP address will be recorded &nbsp; <a href="http://www.livejournal.com/support/faq/66.html" class="b-watering-help-link" target="_blank"><i class="b-watering-help-icon"></i></a> </p>  </div>  <div class="b-watering-captchabox" id="captcha-container">  </div> <div class="b-watering-submit"> <div class="b-ljbutton b-ljbutton-submit"> <button type="submit" name="submitpost" tabindex="80">Post a new comment</button> </div> </div> </div> </div> <div class="b-watering-aside"> <div class="b-watering-help"> <a href="http://www.livejournal.com/support/faq/46.html" class="b-watering-help-link" target="_blank"><i class="b-watering-help-icon"></i>Help</a> </div> </div> </div> </div> <script id="tmpl-updateform-link" type="text/html"> <i class="b-updateform-bubble-bg"></i> <div class="b-updateform-bubble-wrapper b-updateform-bubble-link-empty"> <div class="b-updateform-bubble-link-fields"><label for="updateform-link-url">Link</label><br><input type="text" id="updateform-link-url" size="50" value="" class="b-updateform-bubble-input"><br><span class="b-updateform-bubble-option"><input type="checkbox" id="updateform-link-target" class="b-updateform-bubble-checkbox" tabindex="50" checked disabled><label for="updateform-link-target" class="b-updateform-bubble-option-label">open in new window</label></span></div> <div class="b-updateform-bubble-link-button"><div class=" b-ljbutton b-ljbutton-delete b-updateform-bubble-link-button-remove "><button type="button">Remove all links in selection</button></div><div class=" b-ljbutton b-ljbutton-submit b-ljbutton-disabled "><button type="button" disabled="disabled">Insert</button></div></div> </div> </script> <script id="tmpl-updateform-photo" type="text/html"> <i class="b-updateform-bubble-bg"></i> <div class="b-updateform-bubble-wrapper"> <div class="b-updateform-bubble-photo-pic"><span class="b-updateform-bubble-photo-inner"><img src="http://l-stat.livejournal.com/img/spacer.gif?v=13339" alt="" class="b-updateform-bubble-photo-preview"></span></div> <div class="b-updateform-bubble-photo-fields"><label for="updateform-bubble-photo-url">Photo</label><br><input type="text" id="updateform-photo-url" size="50" value="" class="b-updateform-bubble-input"><br><span class="b-updateform-bubble-hint">Hint&nbsp;<span class="b-pseudo b-updateform-bubble-example">http://pics.livejournal.com/igrick/pic/000r1edq</span></span></div> <div class="b-updateform-bubble-photo-button"><div class="b-ljbutton b-ljbutton-submit b-ljbutton-disabled"><button name="submitpost" type="button" disabled="disabled">Insert</button></div></div> </div> </script> <script id="tmpl-updateform-video" type="text/html"> <i class="b-updateform-bubble-bg"></i> <div class="b-updateform-bubble-wrapper"> <div class="b-updateform-bubble-video-fields"><label for="updateform-video-url">Video</label><br><textarea rows="5" cols="60" id="updateform-video-url" class="b-updateform-bubble-input" ></textarea><span class="b-updateform-bubble-hint" data-hint-target="#updateform-video-url">Embed, iframe, <a href="http://www.youtube.com/watch?v=-LMebrVm-uU" target="_blank">YouTube</a>, <a href="http://vimeo.com/59545564" target="_blank">Vimeo</a> or <a href="http://vine.co/v/bjHh0zHdgZT">Vine</a></span></div> <div class="b-updateform-bubble-video-button"><div class="b-ljbutton b-ljbutton-submit b-ljbutton-disabled"><button name="submitpost" type="button" disabled="disabled">Insert</button></div></div> </div> </script> <script id="tmpl-updateform-user" type="text/html"> <i class="b-updateform-bubble-bg"></i> <div class="b-updateform-bubble-wrapper"> <div class="b-updateform-bubble-user-fields"><label for="updateform-bubble-user-name">User</label><br><span class="b-updateform-bubble-input-wrapper b-updateform-bubble-input-username"><input type="text" id="updateform-bubble-user-name" size="30" maxlength="15" value="" class="b-updateform-bubble-input"><i class="b-updateform-bubble-input-pic"></i></span><span class="b-updateform-bubble-hint">Example:&nbsp;<span class="b-pseudo b-updateform-bubble-example">ohtori</span></span><span class="b-updateform-bubble-warning b-bubble b-bubble-warning b-bubble-intext">No such user</span><span class="b-updateform-bubble-input-title"><label for="updateform-bubble-user-title">User title (optional)</label><br><input type="text" id="updateform-bubble-user-title" size="30" maxlength="255" value="" class="b-updateform-bubble-input"></span></div> <div class="b-updateform-bubble-user-button"><div class="b-ljbutton b-ljbutton-submit b-ljbutton-disabled"><button name="submitpost" type="button" disabled="disabled">Insert user</button></div></div> </div> </script> </form> <script type="text/javascript"> jQuery('#body').spellchecker() .spellchecker('option', 'minHeight', 180) .spellchecker('subscribe') .spellchecker('start'); </script> <i class="b-watering-close"></i> <i class="b-watering-arrows"> <i class="b-watering-arrow-border"></i> <i class="b-watering-arrow"></i> </i> </div> <script> (function() { var node = jQuery('.b-watering'); node.commentator({ publicKey: '6LegWAEAAAAAANJcmtbLTuHlG7AbDzLPxvimCw_Z', captchaContainerId: 'captcha-container', selectors: { errorBlock: '.b-msgsystem-error-ajax', blockingErrorBlocks: '.b-msgsystem-error', preloaderElem: '.b-watering-preload', submitControl: '.b-ljbutton-submit', captchaBox: '.b-watering-captchabox' }, classNames: { captchaActive: 'b-watering-captchabox-active', replyPage: 'b-watering-replypage' } }) .commentform();  node.authtype({ forceStartupCaptcha: !!(Number('')), classNames: { expanded: 'b-watering-user-options-show', startAuthTypePrefix: 'b-watering-trueauth-', captchaForAnonymous: 'b-watering-captcha-anon', captchaForNonFriends: 'b-watering-captcha-nonfriend', notfriend: 'b-watering-user-notafriend', notaspammer: 'b-watering-notaspammer', captchaForAll: 'b-watering-captcha-all', authTypePrefix: 'b-watering-authtype-' }, selectors: { activeSelectItem: 'a[href=#{authType}]', selectControl: '.b-watering-user-options', authTypesControls: '.b-watering-user-services-item a', authTypeRadios: '.b-watering-user-login-{authType} .b-watering-user-login-checkbox' } }); }()); </script>  </li>  <li class="b-xylem-cell b-xylem-cell-amount">    0 comments    </li>  </ul>  </div>      <div class="b-tree b-tree-root"> </div> <script id="comments_json" type="text/plain"> [] </script>  <div class="b-xylem"> <ul class="b-xylem-cells">  <li class="b-xylem-cell b-xylem-cell-add"> <a class="b-addcomment" href="http://skipy-ru.livejournal.com/5803.html?mode=reply#add_comment"><span class="b-addcomment-inner"><i class="b-addcomment-icon"></i>Post a new comment</span></a> </li>  <li class="b-xylem-cell b-xylem-cell-amount">    0 comments    </li>  </ul>  </div>     </div>  </article>

                    <div class='clear'></div>
                
                </div>

                

                <!-- mini map was here -->
            </div>
        </div>


        <!-- /content -->

    </div>

</div>  <!--/ Content Wrapper -->
    



    
		<footer>
            <div class="s-footer s-footer-lite">
                <div class="s-footer-copyright">Copyright &copy; 1999 LiveJournal, Inc.  All rights reserved.</div>
            </div>
		</footer>
		<!-- End Footer -->

    <div id='hello-world' style='text-align: left; font-size:0; line-height:0; height:0; overflow:hidden;'><!-- tns-counter.ru -->
<script type="text/javascript">
var img = new Image();
img.src = 'http://www.tns-counter.ru/V13a***' + document.referrer.replace(/\*/g,'%2a') + '*sup_ru/ru/UTF-8/tmsec=lj_blogs-vis-nonad/';
</script>
<noscript>
<img src="http://www.tns-counter.ru/V13a****sup_ru/ru/UTF-8/tmsec=lj_blogs-vis-nonad/" alt="" />
</noscript>
<!--/ tns-counter.ru -->
<!-- begin of Top100 code -->
<script type="text/javascript">
    var _top100q = _top100q || [];

    _top100q.push(
        ['setAccount', '1132242'],
        ['sync', ''], // для синхронизации пользователей
        ['setCustomVar', 'xz', ''], // передать переменную
        ['setCustomVar', 'mn', ''], // передать еще одну переменную
        ['trackPageview']
    );

    (function(){
         var pa = document.createElement("script"),
             s;

        pa.type = "text/javascript";
        pa.async = true;
        pa.src = ("https:" == document.location.protocol ? "https:" : "http:") + "//st.top100.ru/top100/top100.js";
        s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(pa, s);
    })();
</script>
<noscript>
    <img src="http://counter.rambler.ru/top100.cnt?1111412" alt="" width="1" height="1" border="0" />
</noscript>
<!-- end of Top100 code -->
<!-- begin Rambler Ad code -->
<div id="rambler_ad_counter_137355141392"></div>
<script>
    ;(function () {
        LiveJournal.injectScript('//ad.rambler.ru/static/green2.min.js')
            .done(function () {
                _green.defineSlot('8983', [1, 1], 'rambler_ad_counter_137355141392');
                _green.display('rambler_ad_counter_137355141392');
            });
    }());
</script>
<!-- end Rambler Ad code -->

        <!-- AdsSupCom -->
        <iframe src='http://cnt.sup.com/adv?i1=00010000012E8384&vid=277829518&r=68784228&srv=23&cp=&adzone=cnt_ljcom_noad_journal' frameborder='0' scrolling='no' id='adframe' style='width: 1px; height: 1px'></iframe>
        <!-- /AdsSupCom --> 
    
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24823174-1']);
  _gaq.push(['_setDomainName', '.livejournal.com']);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Begin comScore Tag 1.1111.15 -->
<script type="text/javascript">
// <![CDATA[ 
Site.page.comscore = {};
Site.page.comscore.url = 'http'+(document.location.href.charAt(4)=='s'?'s://sb':'://b')+'.scorecardresearch.com/b';
Site.page.comscore.query = '?c1=2&c2=7602110&sm_vd_cyrillic_status=Cyr&sm_vd_view_own_journal=undef&sm_vd_id=undef&sm_vd_login_status=logout&sm_vd_account_level=undef&sm_vd_premium_package=undef&sm_vd_early_adopter=undef&sm_vd_log_in_service=undef&sm_vd_viewing_scheme=lanzelot&sm_vd_view_in_my_style=undef&sm_pd_visited_journal_account_type=personal&sm_pd_visited_journal_log_in_service=lj&sm_pd_ads_onpage=0&sm_pd_ad_eligible=no&sm_pd_adult_content=none&sm_pd_comments_style=undef&sm_pd_error_pages=undef&sm_pd_visited_journal_name=skipy_ru&sm_pd_page_type=journal&sm_pd_style_layout=undef&sm_pd_style_design=undef&sm_pd_style_system=undef&sm_pd_visited_journal_account_level=basic&sm_pd_early_adopter=no&sm_pd_visited_journal_premium_package=no&sm_pd_page_group=PostMainPage&category=undef&sm_pd_geotargeting=cyr&sm_pd_rating_user_duplication=show&sm_pd_rating_friends=hide&sm_pd_rating_hidden_post=hide';

function udm_(a){var b="comScore=",c=document,d=c.cookie,e="",f="indexOf",g="substring",h="length",i=2048,j,k="&ns_",l="&",m,n,o,p,q=window,r=q.encodeURIComponent||escape;if(d[f](b)+1)for(o=0,n=d.split(";"),p=n[h];o<p;o++)m=n[o][f](b),m+1&&(e=l+unescape(n[o][g](m+b[h])));a+=k+"_t="+ +(new Date)+k+"c="+(c.characterSet||c.defaultCharset||"")+"&c8="+r(c.title)+e+"&c7="+r(c.URL)+"&c9="+r(c.referrer),a[h]>i&&a[f](l)>0&&(j=a[g](0,i-8).lastIndexOf(l),a=(a[g](0,j)+k+"cut="+r(a[g](j+1)))[g](0,i)),c.images?(m=new Image,q.ns_p||(ns_p=m),m.src=a):c.write("<","p","><",'img src="',a,'" height="1" width="1" alt="*"',"><","/p",">")}

udm_(Site.page.comscore.url + Site.page.comscore.query);
// ]]>
</script>
<noscript><p><img src="http://b.scorecardresearch.com/p?c1=2&c2=7602110&sm_vd_cyrillic_status=Cyr&sm_vd_view_own_journal=undef&sm_vd_id=undef&sm_vd_login_status=logout&sm_vd_account_level=undef&sm_vd_premium_package=undef&sm_vd_early_adopter=undef&sm_vd_log_in_service=undef&sm_vd_viewing_scheme=lanzelot&sm_vd_view_in_my_style=undef&sm_pd_visited_journal_account_type=personal&sm_pd_visited_journal_log_in_service=lj&sm_pd_ads_onpage=0&sm_pd_ad_eligible=no&sm_pd_adult_content=none&sm_pd_comments_style=undef&sm_pd_error_pages=undef&sm_pd_visited_journal_name=skipy_ru&sm_pd_page_type=journal&sm_pd_style_layout=undef&sm_pd_style_design=undef&sm_pd_style_system=undef&sm_pd_visited_journal_account_level=basic&sm_pd_early_adopter=no&sm_pd_visited_journal_premium_package=no&sm_pd_page_group=PostMainPage&category=undef&sm_pd_geotargeting=cyr&sm_pd_rating_user_duplication=show&sm_pd_rating_friends=hide&sm_pd_rating_hidden_post=hide" height="1" width="1" alt="*"></p></noscript>
<script type="text/javascript" language="JavaScript1.3" src="http://b.scorecardresearch.com/c2/7602110/cs.js"></script>
<!-- End comScore Tag --><!-- LiveJournal COUNTER -->
<img src="http://xc3.services.livejournal.com/ljcounter?d=srv:bil1-ws33,r:0,j:19825540,uri:%22%2F5803.html%22,vig:0,extra:AS6DhAEug4QAABar" alt="" />
<!-- /COUNTER -->
<!-- begin of Bogun code -->
<script>
    (new Image).src = [
        "https:" === document.location.protocol ? "https:" : "http:",
        "//autocontext.begun.ru/analytics?target_id=0&counter_id=0&url=",
        encodeURIComponent(document.URL),
        "&ref=", encodeURIComponent(document.referrer),
        "&rnd=", Math.random()
    ].join('');
</script>
<!-- end of Begun code -->
</div>
    
    <script type="text/javascript">
                    LJLive.ml_click_to_expand = 'Drag or click';
                    LJLive.ml_click_to_close = 'Click to close';
                    document.write(LJLive.getStateCode());
                </script><script type="text/javascript">LiveJournal.injectScript('http://apis.google.com/js/plusone.js',{text:"{lang: 'en'}"});</script><div id="fb-root"></div>
        <script type="text/javascript">
          window.fbAsyncInit = function() {
            FB.init({appId: '214181831945836', xfbml: true});
          };

          LiveJournal.injectScript(document.location.protocol + '//connect.facebook.net/en_US/all.js', null, document.getElementById('fb-root'))
        </script>
    <script type="text/javascript">LiveJournal.injectScript('http://surfingbird.ru/share/share.min.js');</script> <script type="text/javascript">LiveJournal.injectScript('http://platform.twitter.com/widgets.js');</script>
</body>
</html>
